---
layout: post
title:   react-高阶组件使用
date:   2020-07-08 16:54:24 +0800
categories: react
---

最近偶然间，同事跟我说，这里有七八个页面，基本都是差不多的。我很高兴。我听了很高兴。为啥呢？因为一直以来写后台管理页面，一个页面一个需求，变化多端。后端同事也说我写的烂，不会封装。我真是气的也无力反驳。网络请求我也包了一下、做了一些统一配置。页面的组件，用了`antd`，虽然可以在外层再次包装，但需求是差异很大的。各个部门的管理页面、要求的字段，每个字段输入值后要采用什么不同的交互，与其他字段之间的联动，都是定制化的。再怎么包装，碰到了高度定制化的需求，也要写一些代码，而不能直接套用的。    
所以，这次事先说好了，这几个页面高度一直，都是查询、下载、列表展示。那么就可以搞一个组件。从外面放进去标题、查询的`URL`，下载的`URL`，列表展示的对应`antd`组件所需要的`Columns`。所以就用了一个组件。后来才知道原来这样传值到组件里，传组件到组件里叫做高阶组件。不同的地方就是`Columns`和查询条件、标题等。    
一直认为所谓的大神一直鼓吹，多会了几个api多会了几个写法，挺小儿科的。对吧。我自己用所谓的高阶组件，因为刚好需求在这里明确了，这种情况适合用，我就用了。也没有花个半天时间去学，而是直接用就行了，也可能网上参考了别人的代码。要知道，在我用之前，别人要是问我高阶组件是什么，我还真回答不出来。我对这些所谓大神说的高新技术，其实是比较抵触的，为什么呢？我认为弄这么些函数，把组件传来传去，多消耗了多少内存和CPU啊！直接写朴素的代码，代码的执行效率是更高的。但用了之后，你可以显著的发现，当改需求而且是统一改需求的时候，你只需要改一个地方。那么就快乐。如果要改需求，而且各个需求都差很大，那就糟了。就不能再用同一个组件了。当然有的所谓大神会说，还可以用组件，组件里多加几十几百个`if`来判断就行了。
